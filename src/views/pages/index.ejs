<main class="container-fluid px-0">
    <!-- Banner Principal -->
    <div class="hero-banner position-relative">
        <div class="ratio ratio-16x9" style="max-height:300px; overflow:hidden;">
            <img src="/img/Jogo da Fofoca.gif" class="img-fluid" alt="Capa do Jogo da Fofoca" style="width:100%; height:100%; object-fit:cover; filter: brightness(1);">
        </div>
        <div class="hero-overlay position-absolute top-50 start-50 translate-middle text-center w-100">
            <h1 class="display-3 text-black fw-bold" style="font-family: 'Shrikhand', cursive;">Jogo da Fofoca</h1>
            <p class="lead text-black">Descubra todos os fofoqueiros e mostre quem é o mestre da fofoca!</p>
            <button class="btn btn-lg btn-play mt-3" onclick="window.location.href='/play'">
                <i class="bi bi-play-fill"></i> JOGAR AGORA
            </button>
        </div>
    </div>

    <div class="my-4 mx-3">
        <div class="row g-4">
            <!-- Coluna Esquerda: Amigos e Busca -->
            <div class="col-lg-3 col-md-12">
                <!-- Buscar Usuários -->
                <div class="card shadow-sm mb-4 card-custom">
                    <div class="card-header text-dark" style="background-color: var(--marrom_escuro);">
                        <h5 class="mb-0"><i class="bi bi-search"></i> Buscar Jogadores</h5>
                    </div>
                    <div class="card-body">
                        <div class="input-group">
                            <input type="text" id="searchUser" class="form-control" 
                                   placeholder="Digite o nome...">
                            <button class="btn btn-primary" type="button">
                                <i class="bi bi-search"></i>
                            </button>
                        </div>
                        <div id="searchResults" class="mt-3"></div>
                    </div>
                </div>

                <!-- Pedidos de Amizade -->
                <div class="card shadow-sm mb-4 card-custom" id="friendRequestsCard" style="display: none;">
                    <div class="card-header text-dark d-flex justify-content-between align-items-center" style="background-color: var(--marrom_escuro);">
                        <h5 class="mb-0"><i class="bi bi-person-plus-fill"></i> Pedidos de Amizade</h5>
                        <span class="badge bg-danger" id="friendRequestsCount">0</span>
                    </div>
                    <div class="card-body p-0">
                        <div class="list-group list-group-flush" id="friendRequestsList">
                            <!-- Será populado via JavaScript -->
                        </div>
                    </div>
                </div>

                <!-- Lista de Amigos -->
                <div class="card shadow-sm card-custom">
                    <div class="card-header text-dark d-flex justify-content-between align-items-center" style="background-color: var(--marrom_escuro);">
                        <h5 class="mb-0"><i class="bi bi-people-fill"></i> Meus Amigos</h5>
                    </div>
                    <div class="card-body p-0">
                        <div class="list-group list-group-flush" id="friendsList">
                            <!-- Será populado via JavaScript -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- Coluna Central: Ação Principal e Info Cards -->
            <div class="col-lg-6 col-md-12">
                <!-- Cards Informativos -->
                <div class="row g-3">
                    <div class="col-md-6">
                        <div class="card shadow-sm h-100 card-custom card-hover">
                            <img src="img/interrogacao.webp" class="card-img-top" alt="Como Jogar"
                                 style="object-fit: contain; max-height: 10rem; padding: 1rem;">
                            <div class="card-body">
                                <h5 class="card-title"><i class="bi bi-question-circle"></i> Como Jogar?</h5>
                                <p class="card-text">Entenda o funcionamento das mecânicas do jogo.</p>
                                <div class="position-relative">
                                    <a href="/how-to-play" class="btn btn-primary w-100" aria-label="Entenda como jogar">
                                        <i class="bi bi-book"></i> Entenda
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="card shadow-sm h-100 card-custom card-hover">
                            <img src="img/grafos.png" class="card-img-top" alt="Como Funciona"
                                 style="object-fit: contain; max-height: 10rem; padding: 1rem;">
                            <div class="card-body">
                                <h5 class="card-title"><i class="bi bi-gear-fill"></i> Como funciona?</h5>
                                <p class="card-text">Entenda as tecnologias e algoritmos usados.</p>
                                <a href="/how-it-works" class="btn btn-primary w-100" aria-label="Entenda como jogar">
                                    <i class="bi bi-lightbulb"></i> Entenda
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Coluna Direita: Ranking -->
            <div class="col-lg-3 col-md-12">
                <div class="card shadow-sm card-custom">
                    <div class="card-header text-dark" style="background-color: var(--marrom_escuro);">
                        <h5 class="mb-0"><i class="bi bi-trophy-fill"></i> Ranking Global</h5>
                    </div>
                    <div class="card-body p-0">
                        <div class="list-group list-group-flush" id="leaderboard">
                            <!-- Será populado via JavaScript -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>

<!-- CSS Específico da Home -->
<link rel="stylesheet" href="/style/home.css">

<!-- Script JavaScript da página inicial -->
<script src="/js/home.js"></script>

<!-- Modal de Perfil -->
<div class="modal fade" id="profileModal" tabindex="-1" aria-labelledby="profileModalLabel" aria-hidden="true" data-current-user="<%= usuario && usuario.id_usuario ? usuario.id_usuario : '' %>">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content card-custom shadow-lg">
            <div class="modal-header text-dark" style="background-color: var(--marrom_escuro); border: none;">
                <h5 class="modal-title fw-normal" id="profileModalLabel"><i class="bi bi-person-circle"></i> Perfil do Jogador</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Fechar"></button>
            </div>
            <div class="modal-body" id="profileModalContent">
                <!-- Conteúdo será inserido dinamicamente -->
            </div>
        </div>
    </div>
</div>